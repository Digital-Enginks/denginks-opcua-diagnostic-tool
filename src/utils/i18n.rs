//! Internationalization (i18n) utility
//! 
//! Provides a simple translation system for English and Spanish.

use serde::{Deserialize, Serialize};

/// Supported languages
#[derive(Debug, Clone, Copy, PartialEq, Eq, Default, Serialize, Deserialize)]
pub enum Language {
    #[default]
    English,
    Spanish,
}

impl Language {
    // No-op
}

/// Translation keys
/// Note: Some variants are prepared for future features (e.g., advanced certificate management)
#[allow(dead_code)]
#[derive(Debug, Clone, Copy, PartialEq, Eq)]
pub enum T {
    // Menu
    File,
    View,
    Help,
    Exit,
    About,
    AboutTitle,
    AboutVersion,
    AboutAuthor,
    AboutCompany,
    AboutYear,
    Close,
    
    // Connection Panel
    Connection,
    Disconnect,
    SavedServers,
    NewConnection,
    Endpoint,
    CheckConnection,
    DiscoverEndpoints,
    SecurityPolicy,
    SecurityMode,
    UseAuth,
    Username,
    Password,
    Connect,
    SaveBookmark,
    NoSavedServers,
    LoadBookmark,
    DeleteBookmark,
    Checking,
    Discovering,
    Connecting,
    Stop,
    Success,
    Failed,
    FoundEndpoints,
    Save,
    Cancel,
    Name,
    
    // Status
    ReadyNotConnected,
    ConnectedTo,
    Disconnected,
    TaskCancelled,
    EstablishingConnection,
    
    // Panels
    Watchlist,
    Crawler,
    Properties,
    Trending,
    
    // Crawler
    StartCrawl,
    MaxDepth,
    MaxNodes,
    CrawlComplete,
    CrawlFailed,
    NodeId,
    DisplayName,
    CrawlerDescription,
    ConnectToUseCrawler,
    Configuration,
    Class,
    Results,
    
    // Watchlist
    Node,
    Value,
    Quality,
    Timestamp,
    Actions,
    ExportCSV,
    ExportJSON,
    Remove,
    Trend,
    
    // Security Policies
    SecurityNone,
    SecurityBasic128Rsa15,
    SecurityBasic256,
    SecurityBasic256Sha256,
    SecurityAes128Sha256RsaOaep,
    SecurityAes256Sha256RsaPss,
    
    // Security Modes
    ModeNone,
    ModeSign,
    ModeSignAndEncrypt,
    
    // Dashboard
    Welcome,
    StartInstructions,
    ConnectStep1,
    ConnectStep2,
    ConnectStep3,
    SafetyMode,
    ProductionSafe,
    ConnectionError,
    ConnectingToServer,
    AuthRequired,
    Anonymous,
    DiscoveryFailed,
    NoItems,
    
    // Diagnostics
    Diagnose,
    ValidatingUrl,
    ResolvingDns,
    ScanningPorts,
    TestingConnection,
    DiscoveringEndpoints,
    DiagnosticComplete,
    DiagnosticFailed,
    PortsOpen,
    NoOpenPorts,
    DnsResolved,
    DnsFailed,
    NoEndpointsFound,
    ServerInput,
    DiagnosticLog,
    
    // Certificates
    Certificates,
    ClientCertificate,
    TrustedCerts,
    RejectedCerts,
    TrustCert,
    DeleteCert,
    RegenerateCert,
    NoCertificates,
    CertificateDetails,
    OpenPkiFolder,
    
    // Tasks
    CancelTask,
    TaskRunning,
    ElapsedTime,
    
    // Error Panel
    ErrorPanel,
    ClearAll,
    CommonErrors,
    ErrorCode,
    ErrorDescription,
    NoErrors,
    ServerDisconnected,
}

/// Translate a key into the selected language
pub fn t(key: T, lang: Language) -> &'static str {
    match lang {
        Language::English => match_en(key),
        Language::Spanish => match_es(key),
    }
}

fn match_en(key: T) -> &'static str {
    match key {
        T::File => "File",
        T::View => "View",
        T::Help => "Help",
        T::Exit => "Exit",
        T::About => "About",
        T::AboutTitle => "About DENGINKS OPC-UA Tool",
        T::AboutVersion => "Version 0.1a",
        T::AboutAuthor => "Developer: Oscar Eduardo Ortiz Molina",
        T::AboutCompany => "Company: Digital Enginks",
        T::AboutYear => "Year: 2026",
        T::Close => "Close",
        T::Connection => "Connection",
        T::Disconnect => "Disconnect",
        T::SavedServers => "Saved Servers",
        T::NewConnection => "New Connection",
        T::Endpoint => "Endpoint:",
        T::CheckConnection => "Check Endpoint Connection",
        T::DiscoverEndpoints => "Discover Endpoints",
        T::SecurityPolicy => "Security Policy:",
        T::SecurityMode => "Security Mode:",
        T::UseAuth => "Use Authentication",
        T::Username => "Username:",
        T::Password => "Password:",
        T::Connect => "Connect",
        T::SaveBookmark => "Save Bookmark",
        T::NoSavedServers => "No saved servers. Add one below.",
        T::LoadBookmark => "Load this server configuration",
        T::DeleteBookmark => "Delete this bookmark",
        T::Checking => "Checking...",
        T::Discovering => "Discovering...",
        T::Connecting => "Connecting...",
        T::Stop => "Stop",
        T::Success => "Success",
        T::Failed => "Failed",
        T::FoundEndpoints => "Found {} endpoints:",
        T::Save => "Save",
        T::Cancel => "Cancel",
        T::Name => "Name:",
        T::ReadyNotConnected => "Ready - Not connected",
        T::ConnectedTo => "Connected to {}",
        T::Disconnected => "Disconnected",
        T::TaskCancelled => "Task '{}' cancelled",
        T::EstablishingConnection => "Establishing connection...",
        T::Watchlist => "Watchlist",
        T::Crawler => "Crawler",
        T::Properties => "Properties",
        T::Trending => "Trending",
        T::StartCrawl => "Start Crawl",
        T::MaxDepth => "Max Depth:",
        T::MaxNodes => "Max Nodes:",
        T::CrawlComplete => "Crawl complete. Found {} nodes.",
        T::CrawlFailed => "Crawl failed: {}",
        T::NodeId => "NodeId",
        T::DisplayName => "Display Name",
        T::CrawlerDescription => "Recursively discover nodes in the address space.",
        T::ConnectToUseCrawler => "⚠️ Connect to a server to use the crawler.",
        T::Configuration => "Configuration",
        T::Class => "Class",
        T::Results => "Results",
        T::Node => "Node",
        T::Value => "Value",
        T::Quality => "Quality",
        T::Timestamp => "Timestamp",
        T::Actions => "Actions",
        T::ExportCSV => "Export CSV",
        T::ExportJSON => "Export JSON",
        T::Remove => "Remove",
        T::Trend => "Trend",
        T::SecurityNone => "None (No Security)",
        T::SecurityBasic128Rsa15 => "Basic128Rsa15",
        T::SecurityBasic256 => "Basic256",
        T::SecurityBasic256Sha256 => "Basic256Sha256",
        T::SecurityAes128Sha256RsaOaep => "Aes128-Sha256-RsaOaep",
        T::SecurityAes256Sha256RsaPss => "Aes256-Sha256-RsaPss",
        T::ModeNone => "None",
        T::ModeSign => "Sign",
        T::ModeSignAndEncrypt => "Sign & Encrypt",
        T::Welcome => "Welcome to DENGINKS OPC-UA Tool",
        T::StartInstructions => "Start by creating a new connection on the left.",
        T::ConnectStep1 => "1. Enter an endpoint URL",
        T::ConnectStep2 => "2. Check Network or Discover Endpoints",
        T::ConnectStep3 => "3. Click Connect",
        T::SafetyMode => "SAFETY MODE: READ-ONLY",
        T::ProductionSafe => "This tool is designed to be safe for production environments.",
        T::ConnectionError => "Connection Error",
        T::ConnectingToServer => "Connecting to OPC-UA server...",
        T::AuthRequired => "Auth Required",
        T::Anonymous => "Anonymous",
        T::DiscoveryFailed => "Discovery failed",
        T::NoItems => "No items to show.",
        
        // Diagnostics
        T::Diagnose => "Diagnose",
        T::ValidatingUrl => "Validating input...",
        T::ResolvingDns => "Resolving DNS...",
        T::ScanningPorts => "Scanning ports",
        T::TestingConnection => "Testing connection...",
        T::DiscoveringEndpoints => "Discovering endpoints...",
        T::DiagnosticComplete => "Diagnostic complete",
        T::DiagnosticFailed => "Diagnostic failed",
        T::PortsOpen => "Open ports",
        T::NoOpenPorts => "No open ports found",
        T::DnsResolved => "DNS resolved",
        T::DnsFailed => "DNS resolution failed",
        T::NoEndpointsFound => "No OPC-UA endpoints found",
        T::ServerInput => "Server (IP, hostname, or URL):",
        T::DiagnosticLog => "Diagnostic Log",
        
        // Certificates
        T::Certificates => "Certificates",
        T::ClientCertificate => "Client Certificate",
        T::TrustedCerts => "Trusted Certificates",
        T::RejectedCerts => "Rejected Certificates",
        T::TrustCert => "Trust",
        T::DeleteCert => "Delete",
        T::RegenerateCert => "Regenerate Certificate",
        T::NoCertificates => "No certificates",
        T::CertificateDetails => "Certificate Details",
        T::OpenPkiFolder => "Open PKI Folder",
        
        // Tasks
        T::CancelTask => "Cancel Task",
        T::TaskRunning => "Task running",
        T::ElapsedTime => "Elapsed",
        
        // Error Panel
        T::ErrorPanel => "Errors",
        T::ClearAll => "Clear All",
        T::CommonErrors => "Common OPC-UA Errors",
        T::ErrorCode => "Error Code",
        T::ErrorDescription => "Description",
        T::NoErrors => "No errors.",
        T::ServerDisconnected => "Server disconnected",
    }
}

fn match_es(key: T) -> &'static str {
    match key {
        T::File => "Archivo",
        T::View => "Ver",
        T::Help => "Ayuda",
        T::Exit => "Salir",
        T::About => "Acerca de",
        T::AboutTitle => "Acerca de DENGINKS OPC-UA Tool",
        T::AboutVersion => "Versión 0.1a",
        T::AboutAuthor => "Desarrollador: Oscar Eduardo Ortiz Molina",
        T::AboutCompany => "Empresa: Digital Enginks",
        T::AboutYear => "Año: 2026",
        T::Close => "Cerrar",
        T::Connection => "Conexión",
        T::Disconnect => "Desconectar",
        T::SavedServers => "Servidores Guardados",
        T::NewConnection => "Nueva Conexión",
        T::Endpoint => "Endpoint:",
        T::CheckConnection => "Comprobar conexión a Endpoint",
        T::DiscoverEndpoints => "Descubrir Endpoints",
        T::SecurityPolicy => "Política de Seguridad:",
        T::SecurityMode => "Modo de Seguridad:",
        T::UseAuth => "Usar Autenticación",
        T::Username => "Usuario:",
        T::Password => "Contraseña:",
        T::Connect => "Conectar",
        T::SaveBookmark => "Guardar Marcador",
        T::NoSavedServers => "No hay servidores guardados. Añada uno abajo.",
        T::LoadBookmark => "Cargar esta configuración",
        T::DeleteBookmark => "Eliminar este marcador",
        T::Checking => "Comprobando...",
        T::Discovering => "Descubriendo...",
        T::Connecting => "Conectando...",
        T::Stop => "Detener",
        T::Success => "Éxito",
        T::Failed => "Falló",
        T::FoundEndpoints => "Encontrados {} endpoints:",
        T::Save => "Guardar",
        T::Cancel => "Cancelar",
        T::Name => "Nombre:",
        T::ReadyNotConnected => "Listo - Sin conexión",
        T::ConnectedTo => "Conectado a {}",
        T::Disconnected => "Desconectado",
        T::TaskCancelled => "Tarea '{}' cancelada",
        T::EstablishingConnection => "Estableciendo conexión...",
        T::Watchlist => "Lista de Seguimiento",
        T::Crawler => "Rastreador",
        T::Properties => "Propiedades",
        T::Trending => "Tendencia",
        T::StartCrawl => "Iniciar Rastreo",
        T::MaxDepth => "Profundidad Máxima:",
        T::MaxNodes => "Máximo de Nodos:",
        T::CrawlComplete => "Rastreo completado. Encontrados {} nodos.",
        T::CrawlFailed => "Rastreo fallido: {}",
        T::NodeId => "NodeId",
        T::DisplayName => "Nombre",
        T::CrawlerDescription => "Descubra nodos recursivamente en el espacio de direcciones.",
        T::ConnectToUseCrawler => "⚠️ Conéctese a un servidor para usar el rastreador.",
        T::Configuration => "Configuración",
        T::Class => "Clase",
        T::Results => "Resultados",
        T::Node => "Nodo",
        T::Value => "Valor",
        T::Quality => "Calidad",
        T::Timestamp => "Timestamp",
        T::Actions => "Acciones",
        T::ExportCSV => "Exportar CSV",
        T::ExportJSON => "Exportar JSON",
        T::Remove => "Eliminar",
        T::Trend => "Tendencia",
        T::SecurityNone => "Ninguna (Sin seguridad)",
        T::SecurityBasic128Rsa15 => "Basic128Rsa15",
        T::SecurityBasic256 => "Basic256",
        T::SecurityBasic256Sha256 => "Basic256Sha256",
        T::SecurityAes128Sha256RsaOaep => "Aes128-Sha256-RsaOaep",
        T::SecurityAes256Sha256RsaPss => "Aes256-Sha256-RsaPss",
        T::ModeNone => "Ninguno",
        T::ModeSign => "Firmar",
        T::ModeSignAndEncrypt => "Firmar y Cifrar",
        T::Welcome => "Bienvenido a DENGINKS OPC-UA Tool",
        T::StartInstructions => "Comience creando una nueva conexión a la izquierda.",
        T::ConnectStep1 => "1. Ingrese una URL de endpoint",
        T::ConnectStep2 => "2. Verifique la Red o Descubra Endpoints",
        T::ConnectStep3 => "3. Haga clic en Conectar",
        T::SafetyMode => "MODO SEGURO: SOLO LECTURA",
        T::ProductionSafe => "Esta herramienta está diseñada para ser segura en entornos de producción.",
        T::ConnectionError => "Error de Conexión",
        T::ConnectingToServer => "Conectando al servidor OPC-UA...",
        T::AuthRequired => "Autenticación Requerida",
        T::Anonymous => "Anónimo",
        T::DiscoveryFailed => "La detección falló",
        T::NoItems => "No hay elementos para mostrar.",
        
        // Diagnósticos
        T::Diagnose => "Diagnosticar",
        T::ValidatingUrl => "Validando entrada...",
        T::ResolvingDns => "Resolviendo DNS...",
        T::ScanningPorts => "Escaneando puertos",
        T::TestingConnection => "Probando conexión...",
        T::DiscoveringEndpoints => "Descubriendo endpoints...",
        T::DiagnosticComplete => "Diagnóstico completo",
        T::DiagnosticFailed => "Diagnóstico fallido",
        T::PortsOpen => "Puertos abiertos",
        T::NoOpenPorts => "No se encontraron puertos abiertos",
        T::DnsResolved => "DNS resuelto",
        T::DnsFailed => "Resolución DNS fallida",
        T::NoEndpointsFound => "No se encontraron endpoints OPC-UA",
        T::ServerInput => "Servidor (IP, hostname o URL):",
        T::DiagnosticLog => "Log de Diagnóstico",
        
        // Certificados
        T::Certificates => "Certificados",
        T::ClientCertificate => "Certificado de Cliente",
        T::TrustedCerts => "Certificados de Confianza",
        T::RejectedCerts => "Certificados Rechazados",
        T::TrustCert => "Confiar",
        T::DeleteCert => "Eliminar",
        T::RegenerateCert => "Regenerar Certificado",
        T::NoCertificates => "Sin certificados",
        T::CertificateDetails => "Detalles del Certificado",
        T::OpenPkiFolder => "Abrir Carpeta PKI",
        
        // Tareas
        T::CancelTask => "Cancelar Tarea",
        T::TaskRunning => "Tarea en ejecución",
        T::ElapsedTime => "Transcurrido",
        
        // Panel de Errores
        T::ErrorPanel => "Errores",
        T::ClearAll => "Limpiar Todo",
        T::CommonErrors => "Errores OPC-UA Comunes",
        T::ErrorCode => "Código de Error",
        T::ErrorDescription => "Descripción",
        T::NoErrors => "Sin errores.",
        T::ServerDisconnected => "Servidor desconectado",
    }
}
